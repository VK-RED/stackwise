aW1wb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgfSBmcm9tICJAL2FwcC9zdGFj
a3Mvc3RhY2stZGIiOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVx
OiBSZXF1ZXN0KSB7CiAgdHJ5IHsKICAgIC8vZ2V0IHRoZSB0b2tlbiBmcm9t
IGhlYWRlciBhbmQgc3RyaXAgdGhlIEJlYXJlcgogICAgY29uc3QgYXV0aG9y
aXphdGlvbkhlYWRlcnMgPSByZXEuaGVhZGVycy5nZXQoIkF1dGhvcml6YXRp
b24iKTsKICAgIGlmICghYXV0aG9yaXphdGlvbkhlYWRlcnMpIHsKICAgICAg
dGhyb3cgbmV3IEVycm9yKCJObyB0b2tlbiBwcm92aWRlZCIpOwogICAgfQog
ICAgY29uc3QgYXV0aG9yaXphdGlvbkhlYWRlcnNTcGxpdCA9IGF1dGhvcml6
YXRpb25IZWFkZXJzLnNwbGl0KCIgIik7CiAgICBpZiAoIWF1dGhvcml6YXRp
b25IZWFkZXJzU3BsaXQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbnZh
bGlkIHRva2VuIHByb3ZpZGVkIik7CiAgICB9CiAgICBjb25zdCB0b2tlbiA9
IGF1dGhvcml6YXRpb25IZWFkZXJzU3BsaXQ7CgogICAgY29uc3Qgc3VwYWJh
c2UgPSBhd2FpdCBnZXRTdXBhYmFzZUNsaWVudCh0b2tlbik7CiAgICAvLyBh
ZGQgYSBmaWVsZCB0byBkYXRhCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVx
Lmpzb24oKTsKICAgIGRhdGEudGFncyA9IFsiZHJhZnQiXTsKCiAgICBjb25z
dCB7IGRhdGE6IGluc2VydGVkRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFi
YXNlCiAgICAgIC5mcm9tKCJzdGFjayIpCiAgICAgIC5pbnNlcnQoW2RhdGFd
KQogICAgICAuc2luZ2xlKCk7CgogICAgaWYgKGVycm9yKSB7CiAgICAgIHRo
cm93IGVycm9yOwogICAgfQoKICAgIGF3YWl0IHN1cGFiYXNlLnJwYygiY29t
bWl0Iik7CgogICAgLy8gUmV0dXJuIGEgc3VjY2VzcyByZXNwb25zZQogICAg
cmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShpbnNlcnRlZERh
dGEpLCB7CiAgICAgIHN0YXR1czogMjAwLAogICAgICBoZWFkZXJzOiB7CiAg
ICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAg
ICAgfSwKICAgIH0pOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xl
LmVycm9yKCJFcnJvciBkdXJpbmcgZGF0YSBpbnNlcnRpb246IiwgZXJyb3Ip
OwogICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVy
cm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7CiAgICAgIHN0YXR1czogNTAwLAog
ICAgICBoZWFkZXJzOiB7CiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBs
aWNhdGlvbi9qc29uIiwKICAgICAgfSwKICAgIH0pOwogIH0KfQo=
