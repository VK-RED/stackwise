aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBv
cnQgeyB1c2VBdXRoIH0gZnJvbSAnQGNsZXJrL25leHRqcyc7CgpleHBvcnQg
Y29uc3QgQmFzaWNGb3JtID0gKCkgPT4gewogIGNvbnN0IFtmb3JtRGF0YSwg
c2V0Rm9ybURhdGFdID0gdXNlU3RhdGUoewogICAgbmFtZTogJycsCiAgICBk
ZXNjcmlwdGlvbjogJycsCiAgICBpZDogJycsCiAgfSk7CiAgY29uc3QgW2Zv
cm1FcnJvcnMsIHNldEZvcm1FcnJvcnNdID0gdXNlU3RhdGUoeyBpZDogJycg
fSk7CiAgY29uc3QgW01lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUo
JycpOwogIGNvbnN0IHsgZ2V0VG9rZW4gfSA9IHVzZUF1dGgoKTsKCiAgY29u
c3QgaXNLZWJhYkNhc2UgPSAoc3RyKSA9PiAvXlthLXowLTldKygtW2EtejAt
OV0rKSokLy50ZXN0KHN0cik7CgogIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChl
KSA9PiB7CiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBlLnRhcmdldDsK
ICAgIHNldEZvcm1EYXRhKHsKICAgICAgLi4uZm9ybURhdGEsCiAgICAgIFtu
YW1lXTogdmFsdWUsCiAgICB9KTsKCiAgICBpZiAobmFtZSA9PT0gJ2lkJyAm
JiB2YWx1ZSAmJiAhaXNLZWJhYkNhc2UodmFsdWUpKSB7CiAgICAgIHNldEZv
cm1FcnJvcnMoeyAuLi5mb3JtRXJyb3JzLCBpZDogJ0lEIG11c3QgYmUgaW4g
a2ViYWItY2FzZS4nIH0pOwogICAgfSBlbHNlIHsKICAgICAgc2V0Rm9ybUVy
cm9ycyh7IC4uLmZvcm1FcnJvcnMsIGlkOiAnJyB9KTsKICAgIH0KICB9OwoK
ICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZXZlbnQpID0+IHsKICAg
IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCB0b2tlbiA9IGF3
YWl0IGdldFRva2VuKHsgdGVtcGxhdGU6ICdzdXBhYmFzZScgfSk7CgogICAg
aWYgKCFpc0tlYmFiQ2FzZShmb3JtRGF0YS5pZCkpIHsKICAgICAgc2V0Rm9y
bUVycm9ycyh7IC4uLmZvcm1FcnJvcnMsIGlkOiAnSUQgbXVzdCBiZSBpbiBr
ZWJhYi1jYXNlLicgfSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0cnkg
ewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Ny
ZWF0ZS1zdGFjay1ib2lsZXJwbGF0ZScsIHsKICAgICAgICBtZXRob2Q6ICdQ
T1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1U
eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXph
dGlvbjogJ0JlYXJlciAnICsgdG9rZW4sCiAgICAgICAgfSwKICAgICAgICBi
b2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksCiAgICAgIH0pOwoKICAg
ICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgc2V0TWVzc2FnZSgnRm9y
bSBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IScpOwogICAgICAgIGNvbnN0IHJl
c3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICBj
b25zb2xlLmxvZygnUmVzcG9uc2U6JywgcmVzcG9uc2VEYXRhKTsKICAgICAg
fSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3Ih
IFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7CiAgICAgIH0KICAgIH0g
Y2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1
cmluZyBmZXRjaDonLCBlcnJvcik7CiAgICAgIHNldE1lc3NhZ2UoJ0Vycm9y
IG9uIGZvcm0gc3VibWlzc2lvbicpOwogICAgfQogIH07CgogIHJldHVybiAo
CiAgICA8ZGl2IGNsYXNzTmFtZT0idy0zLzQgbWQ6dy0xLzIiPgogICAgICA8
Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9ImZsZXgg
ZmxleC1jb2wiPgogICAgICAgIDxpbnB1dAogICAgICAgICAgdHlwZT0idGV4
dCIKICAgICAgICAgIG5hbWU9Im5hbWUiCiAgICAgICAgICB2YWx1ZT17Zm9y
bURhdGEubmFtZX0KICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9
CiAgICAgICAgICBwbGFjZWhvbGRlcj0iTmFtZSIKICAgICAgICAgIGNsYXNz
TmFtZT0ibWItMiBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTQwMCByb3VuZGVk
IgogICAgICAgICAgcmVxdWlyZWQKICAgICAgICAvPgogICAgICAgIDx0ZXh0
YXJlYQogICAgICAgICAgbmFtZT0iZGVzY3JpcHRpb24iCiAgICAgICAgICB2
YWx1ZT17Zm9ybURhdGEuZGVzY3JpcHRpb259CiAgICAgICAgICBvbkNoYW5n
ZT17aGFuZGxlQ2hhbmdlfQogICAgICAgICAgcGxhY2Vob2xkZXI9IkRlc2Ny
aXB0aW9uIgogICAgICAgICAgY2xhc3NOYW1lPSJtYi0yIHAtMiBib3JkZXIg
Ym9yZGVyLWdyYXktNDAwIHJvdW5kZWQiCiAgICAgICAgICByZXF1aXJlZAog
ICAgICAgIC8+CiAgICAgICAgPGlucHV0CiAgICAgICAgICB0eXBlPSJ0ZXh0
IgogICAgICAgICAgbmFtZT0iaWQiCiAgICAgICAgICB2YWx1ZT17Zm9ybURh
dGEuaWR9CiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfQogICAg
ICAgICAgcGxhY2Vob2xkZXI9IklEIChrZWJhYi1jYXNlKSIKICAgICAgICAg
IGNsYXNzTmFtZT0ibWItMiBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTQwMCBy
b3VuZGVkIgogICAgICAgICAgcmVxdWlyZWQKICAgICAgICAvPgogICAgICAg
IDxidXR0b24KICAgICAgICAgIHR5cGU9InN1Ym1pdCIKICAgICAgICAgIGNs
YXNzTmFtZT0iYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZCBo
b3ZlcjpiZy1ibHVlLTcwMCIKICAgICAgICA+CiAgICAgICAgICBTdWJtaXQK
ICAgICAgICA8L2J1dHRvbj4KICAgICAgICB7TWVzc2FnZSAmJiA8ZGl2IGNs
YXNzTmFtZT0idGV4dC1ncmVlbi01MDAgbXQtMiI+e01lc3NhZ2V9PC9kaXY+
fQogICAgICA8L2Zvcm0+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRl
ZmF1bHQgQmFzaWNGb3JtOwo=
